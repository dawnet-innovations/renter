{% extends 'base.html' %}
{% load static %}

{% block title %} RENTER {% endblock %}

{% block body %}

    <a href="javascript:window.history.back();">
        <i style="font-size: 1.5rem; color: grey;" class="fa-solid fa-arrow-left mt-3 mx-3"></i>
    </a>

    
    <div class="container mt-5">
        <div class="text-center room-header">
            <h1 class="fw-bold">{{ renter.room }}</h1>
            <a href="{% url 'edit-room' id=renter.room.id %}" class="btn btn-primary edit-button">EDIT</a>
            <a href="{% url 'delete-room' id=renter.room.id %}" class="btn btn-primary edit-button" onclick="return confirm('Are you sure you want to delete this Room?')">delete</a>
        </div>
    </div>


    <div class="container mt-5">


              <div class="row">
            <div class="col">
                <a href="tel:{{ renter.phone }}" class="btn btn-outline-success btn-sm m-2" target="_blank">
                    CALL
                </a>
            </div>
            <div class="col">
                <a href="https://wa.me/{{ renter.whatsapp }}" class="btn btn-outline-success btn-sm m-2"
                   target="_blank">
                    WHATSAPP
                </a>
            </div>
         
            
        </div>

        <div class="row">
            
        
            <div class="col">
                <a href="{% url 'pay-rent' id=renter.id %}" class="btn btn-outline-success btn-sm m-2">
                    PAY
                </a>
            </div>
            <div class="col">
                <a href="{% url 'renter_pending' id=renter.id %}" class="btn btn-outline-success btn-sm m-2">
                    pendings
                </a>
            </div>
        </div>
       
<br>

        <div class="col">
            <a href="{% url 'edit-renter' id=renter.id %}" class="btn btn-success btn-sm m-2">
                edit
            </a>
        </div>

        <div class="col">
            <a href="{% url 'delete-renter' id=renter.id %}" class="btn btn-success btn-sm m-2" onclick="return confirm('Are you sure you want to delete this renter?')">
                delete
            </a>
        </div>


        <table class="table table- table-borderless">
            <thead class="thead-dark">

            </thead>
            <tbody>


            <tr>

                <td>NAME : </span>

                </td>
                <td class="fw-bold">{{ renter.name }}</td>

                <td></td>
            </tr>

            <tr>

                <td>ADVANCE: </span>

                </td>
                <td class="fw-bold">{{ renter.advance|floatformat:2 }}</td>

                <td></td>
            </tr>

            <tr>

                <td>AGREEMENT DATE :

                </td>
                <td class="fw-bold">{{ renter.agreement_start|date:"d/m/Y" }} - {{ renter.agreement_end|date:"d/m/Y" }}

                </td>

                <td></td>
            </tr>
            
            <tr>

                <td>RENT : </span>

                </td>
                <td class="fw-bold">{{ renter.rent|floatformat:2 }}</td>

                <td></td>
            </tr>


            </tbody>
        </table>
        <br>


        <div class="table-responsive">

            <table class="table table-striped table-borderless">
                <thead class="thead-dark">

                <th scope="col">
                    <h5 class="fw-bold">DATE</h5>
                </th>
                <th scope="col">
                    <h5 class="fw-bold">FOR</h5>
                </th>
                <th scope="col">
                    <h5 class="fw-bold">AMOUNT</h5>
                </th>
                <th scope="col">
                    <h5 class="fw-bold">VIEW</h5>
                </th>
                <th scope="col">
                    <h5 class="fw-bold"></h5>
                </th>
                </thead>
                <tbody>
                {% for rent in rents %}
                    <tr>
                        <td>{{ rent.date|date:"Y-m-d" }}</td>
                        <td>{{ rent.pay_for|date:"Y-m-d" }}</td>

                        <td><span class="fw-bold">{{ rent.amount_paid|floatformat:2 }}</span>

                        </td>

                        <td>
                            <div class="input-group mb-3" style="max-width: 200px;">
                                <a href="{% url 'bill' id=rent.id %}" class="btn btn-outline-primary btn-sm m-2">
                                    View
                                </a>
                            </div>
                        </td>
                        <td>
                            <div class="input-group mb-3" style="max-width: 200px;">
                                <a href="{% url 'edit-rent' id=rent.id %}" class="btn btn-outline-primary btn-sm m-2">
                                    edit
                                </a>
                            </div>
                            <div class="input-group mb-3" style="max-width: 200px;">
                                <a href="{% url 'delete-rent' id=rent.id %}" class="btn btn-outline-primary btn-sm m-2" onclick="return confirm('Are you sure you want to delete this?')">
                                    delete
                                </a>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            <hr>
            <p class="text-">TOTAL : {{ total_rent|floatformat:2 }}</p>

            <p class="text-">DUE : {{ due|floatformat:2 }}</p>

        </div>
    </div>
    </div>

    </div>
    </div>


{% endblock %} 